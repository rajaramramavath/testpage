<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Firebase RD Test</title>
    <script type="module">
      // Import Firebase SDKs
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js";
      import { getDatabase, ref, set, get } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-database.js";
      import { getAuth, onAuthStateChanged, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-auth.js";

      // Your Firebase config (keep what you already have)
      const firebaseConfig = {
        apiKey: "AIzaSyBEfI4QzJU2kc2PEp02x36BftvO6P5qJps",
        authDomain: "admindemon-b3823.firebaseapp.com",
        projectId: "admindemon-b3823",
        storageBucket: "admindemon-b3823.firebasestorage.app",
        messagingSenderId: "33424574422",
        appId: "1:33424574422:web:96db3c6388d89d162c4677",
        measurementId: "G-188H3B2LSZ",
        databaseURL: "https://admindemon-b3823-default-rtdb.firebaseio.com"
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getDatabase(app);
      const auth = getAuth(app);

      // --- Change this to your admin test email and password ---
      const TEST_EMAIL = "YOUR_ADMIN_EMAIL";
      const TEST_PASSWORD = "YOUR_ADMIN_PASSWORD";

      // Login and test write/read
      signInWithEmailAndPassword(auth, TEST_EMAIL, TEST_PASSWORD)
        .then(() => {
          console.log("Logged in!");

          const testRef = ref(db, 'testNode');

          // Write test data
          return set(testRef, {
            message: "Hello Firebase! " + new Date().toISOString()
          });
        })
        .then(() => {
          console.log("Write successful. Now reading...");
          const testRef = ref(db, 'testNode');
          return get(testRef);
        })
        .then((snapshot) => {
          if (snapshot.exists()) {
            console.log("Read data:", snapshot.val());
          } else {
            console.log("No data found!");
          }
        })
        .catch((err) => {
          console.error("Error:", err);
        });

      // Optional: sign out after test
      // signOut(auth);
    </script>
  </head>
  <body>
    <h1>Firebase RD Test</h1>
    <p>Open the browser console (F12) to see results.</p>
  </body>
</html>
