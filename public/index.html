<!DOCTYPE html>
<html>
<head>
  <title>Timetable Viewer</title>
</head>
<body>
  <h1>Timetable</h1>
  <label>Section:</label>
  <select id="section"></select>
  <label>Day:</label>
  <select id="day">
    <option>monday</option>
    <option>tuesday</option>
    <option>wednesday</option>
    <option>thursday</option>
    <option>friday</option>
    <option>saturday</option>
  </select>
  <button id="load">Load</button>

  <ul id="output"></ul>

  <script type="module">
    import { db, ref, get } from './firebase.js';

    async function loadSections() {
      const snapshot = await get(ref(db, 'timetable'));
      const sections = snapshot.exists() ? Object.keys(snapshot.val()) : [];
      const sel = document.getElementById('section');
      sel.innerHTML = sections.map(s => `<option>${s}</option>`).join('');
    }

    async function loadTimetable() {
      const section = document.getElementById('section').value;
      const day = document.getElementById('day').value;
      const snapshot = await get(ref(db, `timetable/${section}/${day}`));
      const list = document.getElementById('output');
      list.innerHTML = '';
      if (snapshot.exists()) {
        snapshot.val().forEach(item => {
          const li = document.createElement('li');
          li.textContent = `${item.time} â€” ${item.subject}`;
          list.appendChild(li);
        });
      } else {
        list.innerHTML = '<li>No data</li>';
      }
    }

    document.getElementById('load').addEventListener('click', loadTimetable);

    loadSections();
  </script>
<!-- index.html -->
<!DOCTYPE html>
<html>
<head>
  <title>Timetable</title>
</head>
<body>
  <h1>Timetable</h1>

  <!-- Firebase App (core) -->
  <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js"></script>
  <!-- Add the Firebase products you need -->
  <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-analytics.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-database.js"></script>

  <script>
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyBEfI4QzJU2kc2PEp02x36BftvO6P5qJps",
      authDomain: "admindemon-b3823.firebaseapp.com",
      projectId: "admindemon-b3823",
      storageBucket: "admindemon-b3823.firebasestorage.app",
      messagingSenderId: "33424574422",
      appId: "1:33424574422:web:96db3c6388d89d162c4677",
      measurementId: "G-188H3B2LSZ"
    };

    // Initialize Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const analytics = firebase.analytics(app);
    const auth = firebase.auth(app);
    const db = firebase.database(app);

    console.log("Firebase ready!");
  </script>
</body>
</html>

</body>
</html>
